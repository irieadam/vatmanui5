<mvc:View
height="100%"
    controllerName="vatmanui5.webApp.view.Validation"
    xmlns="sap.m"
    xmlns:mvc="sap.ui.core.mvc"
	xmlns:core="sap.ui.core">

<App class="thisApp"> 
<Page title="Some title" id="__page0" enableScrolling="true" floatingFooter="true" >

	            <headerContent>

	                <Button  text="Logout" width="100px" press="doLogout" icon="sap-icon://log"/>

	            </headerContent>

	        <content>
			<Panel id="__panel0">

	         <content>

	                    <FlexBox width="100%" id="__box0">

	                        <items>

	                            <HBox width="11em" id="__hbox0">

	                                <items>

	                                    <Label  text="VAT requestor number " width="11em" id="__label2" labelFor="__hbox1"/>

	                                </items>

	                            </HBox>

	                            <HBox width="100%" id="__hbox1">

	                                <items>

	                       <!--             <sap.ui.commons:TextField  xmlns:sap.ui.layout="sap.ui.layout" xmlns:sap.ui.commons="sap.ui.commons" id="__field0" width="4em" value="{vm>/requesterCountryCode}"/>

	                                    <sap.ui.commons:TextField  xmlns:sap.ui.commons="sap.ui.commons" id="__field1" value="{vm>/requesterVatNumber}"/>
--> 
										<Input id="requestCC" width="4em" value="{vm>/requesterCountryCode}"/>

										<Input value="{vm>/requesterVatNumber}"/>
										 
	                                </items>

	                            </HBox>

	                        </items>

	                    </FlexBox>

	                </content>

	            </Panel>	
					<IconTabBar selectedKey="all" id="iconTabBar" select="handleIconTabBarSelect">
	                <items>
						<IconTabFilter text="requests" count="{vm>/vatNumbers/length}" showAll="true" id="__filter0" key="all" />

							  <!-- <core:Fragment id="requestsTable" fragmentName="vatmanui5.webApp.view.RequestsTable" type="XML" /> -->
	                  <!--       
	                    </IconTabFilter> -->

	                
	                    <IconTabFilter text="valid" count="{vm>/validCount}" icon="sap-icon://accept" iconColor="Positive" id="__filter2" key="valid"/>

     					<IconTabFilter text="not valid" count="{vm>/notValidCount}" icon="sap-icon://message-error" iconColor="Critical" id="__filter1" key="notValid"/>
     
	                    <IconTabFilter text="failed" count="{vm>/failedCount}" icon="sap-icon://message-warning" id="__filter3" iconColor="Negative" key="failed"/></items>

	            </IconTabBar>

				<Table noDataText="no data" 
								   id="requestsTable" 
								   showSeparators="Inner" 
								   items="{vm>/vatNumbers}" 
								   height="60em">
 									
									<columns>
										<Column id="__column1" width="4em">
											<header>
												<Label text="Country"/>
											</header>
										</Column>
										<Column id="__column0" width="10em">
											<header>
												<Label text="VAT Number"/>
											</header>
										</Column>
										<Column id="__column2">
											<header>
												<Label text="Name" />
											</header>
										</Column>
										<Column id="__column3">
											<header>
												<Label text="Address" />
											</header>
										</Column>
										<Column id="__column4" width="10em">
											<header>
												<Label text="Confirmation" />
											</header>
										</Column>
										<Column id="__column5" width="8em">
											<header>
												<Label text="Request Date" />
											</header>
										</Column>
										<Column id="__column6" width="6em">
											<header>
												<Label text="Valid" />
											</header>
										</Column>
										<Column id="__column7" width="4em">
											<header>
												<Label text="Retries"/>
											</header>
										</Column>
									</columns>
	                      
									<ColumnListItem id="__item3">										
										<cells >
											<Input ariaLabelledBy="__xmlview0--__label3" width="100%" id="countryCode" value="{vm>countryCode}" editable="{path:'vm>editable'}"/>
											<Input ariaLabelledBy="__xmlview0--__label0" width="100%" id="vatNumber" value="{vm>vatNumber}" editable="{path:'vm>editable'}"/>
											<Input width="100%" id="traderName" value="{vm>traderName}" editable="false"/>
											<Input width="100%" id="traderAddress" value="{vm>traderAddress}" editable="false" class="myInputField"/>
											<Input width="100%" id="confirmation" value="{vm>confirmation}" editable="false"/>
											<Input width="100%" id="requestTime" value="{vm>requestTime}" editable="false"/>
											<Input width="100%" id="valid" value="{vm>valid}" editable="false"/>
											<Input width="100%" id="retries" value="{vm>retries}" editable="false"/>
										</cells>
	                                </ColumnListItem>
	                           </Table>

	        </content>
	        <footer>
	            <Toolbar width="100%" id="__toolbar3">
	                <content>
	                    <sap.ui.unified:FileUploader  xmlns:sap.ui.unified="sap.ui.unified" id="fileUploader" buttonText="Select File" icon="sap-icon://upload" change="upload"/>
	                    <Button  text="Clear" width="100px" id="__button3" icon="sap-icon://delete" press="clear"/>
	                    <ToolbarSpacer  id="__spacer0"/>
	                    <Button  ariaLabelledBy="__xmlview0--__label2" text="Validate" width="10em" id="__button2" icon="sap-icon://provision" press="onProcess" />
	                    <ToolbarSpacer  id="__spacer0_copy"/>
	                    <RadioButtonGroup  width="11em" columns="2" selectedIndex="0" id="formatSelection">
	                        <buttons>
	                            <RadioButton selected="true" groupName="__group0" text=".xslx" id="__button1"/>
	                            <RadioButton groupName="__group0" text=".csv" id="__button4"/>
	                            </buttons>
	                        
	                    </RadioButtonGroup>
	                    <Button text="Export" width="100px" id="__button6" icon="sap-icon://download" press="onExport"/>
	                </content>
	            </Toolbar>
	        </footer>
	        </Page>
			</App>
</mvc:View>